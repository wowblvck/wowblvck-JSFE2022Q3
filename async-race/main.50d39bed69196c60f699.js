/*! For license information please see main.50d39bed69196c60f699.js.LICENSE.txt */
(()=>{var t={695:function(t,e,n){t.exports=function(t,e,n,r){"use strict";const i=t=>t&&"object"==typeof t&&"default"in t?t:{default:t},o=i(t),s=i(n),a=i(r);class c extends a.default{constructor(t,n){super(),(t=e.getElement(t))&&(this._element=t,this._config=this._getConfig(n),o.default.set(this._element,this.constructor.DATA_KEY,this))}dispose(){o.default.remove(this._element,this.constructor.DATA_KEY),s.default.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,n,r=!0){e.executeAfterTransition(t,n,r)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return o.default.get(e.getElement(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.2.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}return c}(n(493),n(72),n(286),n(705))},863:function(t,e,n){t.exports=function(t,e,n,r){"use strict";const i=t=>t&&"object"==typeof t&&"default"in t?t:{default:t},o=i(e),s=i(n),a=i(r),c=".bs.collapse",l=`show${c}`,u=`shown${c}`,d=`hide${c}`,f=`hidden${c}`,h=`click${c}.data-api`,g="show",p="collapse",m="collapsing",v=`:scope .${p} .${p}`,b='[data-bs-toggle="collapse"]',y={parent:null,toggle:!0},w={parent:"(null|element)",toggle:"boolean"};class E extends a.default{constructor(e,n){super(e,n),this._isTransitioning=!1,this._triggerArray=[];const r=s.default.find(b);for(const e of r){const n=t.getSelectorFromElement(e),r=s.default.find(n).filter((t=>t===this._element));null!==n&&r.length&&this._triggerArray.push(e)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return y}static get DefaultType(){return w}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter((t=>t!==this._element)).map((t=>E.getOrCreateInstance(t,{toggle:!1})))),t.length&&t[0]._isTransitioning)return;if(o.default.trigger(this._element,l).defaultPrevented)return;for(const e of t)e.hide();const e=this._getDimension();this._element.classList.remove(p),this._element.classList.add(m),this._element.style[e]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const n=`scroll${e[0].toUpperCase()+e.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(m),this._element.classList.add(p,g),this._element.style[e]="",o.default.trigger(this._element,u)}),this._element,!0),this._element.style[e]=`${this._element[n]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(o.default.trigger(this._element,d).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,t.reflow(this._element),this._element.classList.add(m),this._element.classList.remove(p,g);for(const e of this._triggerArray){const n=t.getElementFromSelector(e);n&&!this._isShown(n)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0;this._element.style[e]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(m),this._element.classList.add(p),o.default.trigger(this._element,f)}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(g)}_configAfterMerge(e){return e.toggle=Boolean(e.toggle),e.parent=t.getElement(e.parent),e}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(b);for(const n of e){const e=t.getElementFromSelector(n);e&&this._addAriaAndCollapsedClass([n],this._isShown(e))}}_getFirstLevelChildren(t){const e=s.default.find(v,this._config.parent);return s.default.find(t,this._config.parent).filter((t=>!e.includes(t)))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const n of t)n.classList.toggle("collapsed",!e),n.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1),this.each((function(){const n=E.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}return o.default.on(document,h,b,(function(e){("A"===e.target.tagName||e.delegateTarget&&"A"===e.delegateTarget.tagName)&&e.preventDefault();const n=t.getSelectorFromElement(this),r=s.default.find(n);for(const t of r)E.getOrCreateInstance(t,{toggle:!1}).toggle()})),t.defineJQueryPlugin(E),E}(n(72),n(286),n(737),n(695))},493:function(t){t.exports=function(){"use strict";const t=new Map;return{set(e,n,r){t.has(e)||t.set(e,new Map);const i=t.get(e);i.has(n)||0===i.size?i.set(n,r):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(e,n)=>t.has(e)&&t.get(e).get(n)||null,remove(e,n){if(!t.has(e))return;const r=t.get(e);r.delete(n),0===r.size&&t.delete(e)}}}()},286:function(t,e,n){t.exports=function(t){"use strict";const e=/[^.]*(?=\..*)\.|.*/,n=/\..*/,r=/::\d+$/,i={};let o=1;const s={mouseenter:"mouseover",mouseleave:"mouseout"},a=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function c(t,e){return e&&`${e}::${o++}`||t.uidEvent||o++}function l(t){const e=c(t);return t.uidEvent=e,i[e]=i[e]||{},i[e]}function u(t,e,n=null){return Object.values(t).find((t=>t.callable===e&&t.delegationSelector===n))}function d(t,e,n){const r="string"==typeof e,i=r?n:e||n;let o=p(t);return a.has(o)||(o=t),[r,i,o]}function f(t,n,r,i,o){if("string"!=typeof n||!t)return;let[a,f,h]=d(n,r,i);if(n in s){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};f=t(f)}const g=l(t),p=g[h]||(g[h]={}),b=u(p,f,a?r:null);if(b)return void(b.oneOff=b.oneOff&&o);const y=c(f,n.replace(e,"")),w=a?function(t,e,n){return function r(i){const o=t.querySelectorAll(e);for(let{target:s}=i;s&&s!==this;s=s.parentNode)for(const a of o)if(a===s)return v(i,{delegateTarget:s}),r.oneOff&&m.off(t,i.type,e,n),n.apply(s,[i])}}(t,r,f):function(t,e){return function n(r){return v(r,{delegateTarget:t}),n.oneOff&&m.off(t,r.type,e),e.apply(t,[r])}}(t,f);w.delegationSelector=a?r:null,w.callable=f,w.oneOff=o,w.uidEvent=y,p[y]=w,t.addEventListener(h,w,a)}function h(t,e,n,r,i){const o=u(e[n],r,i);o&&(t.removeEventListener(n,o,Boolean(i)),delete e[n][o.uidEvent])}function g(t,e,n,r){const i=e[n]||{};for(const o of Object.keys(i))if(o.includes(r)){const r=i[o];h(t,e,n,r.callable,r.delegationSelector)}}function p(t){return t=t.replace(n,""),s[t]||t}const m={on(t,e,n,r){f(t,e,n,r,!1)},one(t,e,n,r){f(t,e,n,r,!0)},off(t,e,n,i){if("string"!=typeof e||!t)return;const[o,s,a]=d(e,n,i),c=a!==e,u=l(t),f=u[a]||{},p=e.startsWith(".");if(void 0===s){if(p)for(const n of Object.keys(u))g(t,u,n,e.slice(1));for(const n of Object.keys(f)){const i=n.replace(r,"");if(!c||e.includes(i)){const e=f[n];h(t,u,a,e.callable,e.delegationSelector)}}}else{if(!Object.keys(f).length)return;h(t,u,a,s,o?n:null)}},trigger(e,n,r){if("string"!=typeof n||!e)return null;const i=t.getjQuery();let o=null,s=!0,a=!0,c=!1;n!==p(n)&&i&&(o=i.Event(n,r),i(e).trigger(o),s=!o.isPropagationStopped(),a=!o.isImmediatePropagationStopped(),c=o.isDefaultPrevented());let l=new Event(n,{bubbles:s,cancelable:!0});return l=v(l,r),c&&l.preventDefault(),a&&e.dispatchEvent(l),l.defaultPrevented&&o&&o.preventDefault(),l}};function v(t,e){for(const[n,r]of Object.entries(e||{}))try{t[n]=r}catch(e){Object.defineProperty(t,n,{configurable:!0,get:()=>r})}return t}return m}(n(72))},175:function(t){t.exports=function(){"use strict";function t(t){if("true"===t)return!0;if("false"===t)return!1;if(t===Number(t).toString())return Number(t);if(""===t||"null"===t)return null;if("string"!=typeof t)return t;try{return JSON.parse(decodeURIComponent(t))}catch(e){return t}}function e(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}return{setDataAttribute(t,n,r){t.setAttribute(`data-bs-${e(n)}`,r)},removeDataAttribute(t,n){t.removeAttribute(`data-bs-${e(n)}`)},getDataAttributes(e){if(!e)return{};const n={},r=Object.keys(e.dataset).filter((t=>t.startsWith("bs")&&!t.startsWith("bsConfig")));for(const i of r){let r=i.replace(/^bs/,"");r=r.charAt(0).toLowerCase()+r.slice(1,r.length),n[r]=t(e.dataset[i])}return n},getDataAttribute:(n,r)=>t(n.getAttribute(`data-bs-${e(r)}`))}}()},737:function(t,e,n){t.exports=function(t){"use strict";return{find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const n=[];let r=t.parentNode.closest(e);for(;r;)n.push(r),r=r.parentNode.closest(e);return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(e){const n=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(",");return this.find(n,e).filter((e=>!t.isDisabled(e)&&t.isVisible(e)))}}}(n(72))},705:function(t,e,n){t.exports=function(t,e){"use strict";const n=(t=>t&&"object"==typeof t&&"default"in t?t:{default:t})(e);return class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(e,r){const i=t.isElement(r)?n.default.getDataAttribute(r,"config"):{};return{...this.constructor.Default,..."object"==typeof i?i:{},...t.isElement(r)?n.default.getDataAttributes(r):{},..."object"==typeof e?e:{}}}_typeCheckConfig(e,n=this.constructor.DefaultType){for(const r of Object.keys(n)){const i=n[r],o=e[r],s=t.isElement(o)?"element":t.toType(o);if(!new RegExp(i).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${s}" but expected type "${i}".`)}}}}(n(72),n(175))},72:function(t,e){!function(t){"use strict";const e="transitionend",n=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},r=t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const r=Number.parseFloat(e),i=Number.parseFloat(n);return r||i?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0},i=t=>{t.dispatchEvent(new Event(e))},o=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),s=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?s(t.parentNode):null},a=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,c=[],l=t=>{"loading"===document.readyState?(c.length||document.addEventListener("DOMContentLoaded",(()=>{for(const t of c)t()})),c.push(t)):t()},u=t=>{"function"==typeof t&&t()};t.defineJQueryPlugin=t=>{l((()=>{const e=a();if(e){const n=t.NAME,r=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=r,t.jQueryInterface)}}))},t.execute=u,t.executeAfterTransition=(t,n,o=!0)=>{if(!o)return void u(t);const s=r(n)+5;let a=!1;const c=({target:r})=>{r===n&&(a=!0,n.removeEventListener(e,c),u(t))};n.addEventListener(e,c),setTimeout((()=>{a||i(n)}),s)},t.findShadowRoot=s,t.getElement=t=>o(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t):null,t.getElementFromSelector=t=>{const e=n(t);return e?document.querySelector(e):null},t.getNextActiveElement=(t,e,n,r)=>{const i=t.length;let o=t.indexOf(e);return-1===o?!n&&r?t[i-1]:t[0]:(o+=n?1:-1,r&&(o=(o+i)%i),t[Math.max(0,Math.min(o,i-1))])},t.getSelectorFromElement=t=>{const e=n(t);return e&&document.querySelector(e)?e:null},t.getTransitionDurationFromElement=r,t.getUID=t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t},t.getjQuery=a,t.isDisabled=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),t.isElement=o,t.isRTL=()=>"rtl"===document.documentElement.dir,t.isVisible=t=>{if(!o(t)||0===t.getClientRects().length)return!1;const e="visible"===getComputedStyle(t).getPropertyValue("visibility"),n=t.closest("details:not([open])");if(!n)return e;if(n!==t){const e=t.closest("summary");if(e&&e.parentNode!==n)return!1;if(null===e)return!1}return e},t.noop=()=>{},t.onDOMContentLoaded=l,t.reflow=t=>{t.offsetHeight},t.toType=t=>null==t?`${t}`:Object.prototype.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase(),t.triggerTransitionEnd=i,Object.defineProperties(t,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})}(e)},187:t=>{"use strict";var e,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};e=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var i=Number.isNaN||function(t){return t!=t};function o(){o.init.call(this)}t.exports=o,t.exports.once=function(t,e){return new Promise((function(n,r){function i(n){t.removeListener(e,o),r(n)}function o(){"function"==typeof t.removeListener&&t.removeListener("error",i),n([].slice.call(arguments))}p(t,e,o,{once:!0}),"error"!==e&&function(t,e,n){"function"==typeof t.on&&p(t,"error",e,{once:!0})}(t,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function c(t){return void 0===t._maxListeners?o.defaultMaxListeners:t._maxListeners}function l(t,e,n,r){var i,o,s,l;if(a(n),void 0===(o=t._events)?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"==typeof s?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(t))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return t}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function f(t,e,n){var r=t._events;if(void 0===r)return[];var i=r[e];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}(i):g(i,i.length)}function h(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function p(t,e,n,r){if("function"==typeof t.on)r.once?t.once(e,n):t.on(e,n);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function i(o){r.once&&t.removeEventListener(e,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");s=t}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||i(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[t];if(void 0===c)return!1;if("function"==typeof c)r(c,this,e);else{var l=c.length,u=g(c,l);for(n=0;n<l;++n)r(u[n],this,e)}return!0},o.prototype.addListener=function(t,e){return l(this,t,e,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(t,e){return l(this,t,e,!0)},o.prototype.once=function(t,e){return a(e),this.on(t,d(this,t,e)),this},o.prototype.prependOnceListener=function(t,e){return a(e),this.prependListener(t,d(this,t,e)),this},o.prototype.removeListener=function(t,e){var n,r,i,o,s;if(a(e),void 0===(r=this._events))return this;if(void 0===(n=r[t]))return this;if(n===e||n.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(n,i),1===n.length&&(r[t]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",t,s||e)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(t){var e,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=n[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},o.prototype.listeners=function(t){return f(this,t,!0)},o.prototype.rawListeners=function(t){return f(this,t,!1)},o.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):h.call(t,e)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?e(this._events):[]}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;n.g.importScripts&&(t=n.g.location+"");var e=n.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var r=e.getElementsByTagName("script");r.length&&(t=r[r.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=t})(),(()=>{"use strict";n(863);const t=n.p+"assets/8b911276271cbe2b5883.svg",e=n.p+"assets/68c80f96f656136cff2c.svg";var r=n(187),i="http://127.0.0.1:3000",o={Garage:"".concat(i,"/garage"),Winners:"".concat(i,"/winners"),Engine:"".concat(i,"/engine")},s=function(){return s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},s.apply(this,arguments)},a=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},c=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};const l=function(){function t(){var t=this;this.create=function(e){return a(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,fetch(o.Garage,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))},this.update=function(e,n){return a(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(o.Garage,"/").concat(e),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))},this.delete=function(e){return a(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(o.Garage,"/").concat(e),{method:"DELETE"})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))},this.getCars=function(e,n){return void 0===n&&(n=7),a(t,void 0,void 0,(function(){var t,r,i;return c(this,(function(s){switch(s.label){case 0:return[4,fetch("".concat(o.Garage,"?_page=").concat(e,"&_limit=").concat(n))];case 1:return[4,(t=s.sent()).json()];case 2:return r=s.sent(),i=Number(t.headers.get("X-Total-Count")),[2,{items:r,count:i}]}}))}))},this.getCar=function(e){return a(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(o.Garage,"/").concat(e))];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))},this.getImage=function(t,e){return'\n    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1280 640" preserveAspectRatio="xMidYMid meet" xmlns:v="https://vecta.io/nano" id="car-icon-'.concat(t,'" class="car-icon">\n      <path fill="').concat(e,'" d="M356.5 106.4c-10.6 3-10.1 2.6-10.8 11.1-.4 4.2-.9 8-1.2 8.5-.6 1-24.6 10.5-59 23.4-44.8 16.7-105.2 41.5-117.3 48.3-7.8 4.3-19.3 9.1-25 10.4-2.3.5-9.8 1.4-16.5 1.9-6.7.6-16.7 1.9-22.2 3-15.4 3.1-34 4.9-56.3 5.7l-20.3.6-4.3 6.6c-5.9 9.1-6 9.5-2.6 13 3.7 3.7 3.8 6.5.3 15-2.5 6.2-2.7 7.8-3.1 25.6l-.4 19-3.8 3.2C4.9 309.5.7 322.6.6 343.5c0 19.4 1.1 39.6 2.6 48.2 1.3 7.1 1.4 7.4 7.2 12.2 6.9 5.8 13 12.9 15.8 18.4 6.4 12.6 53.4 21.1 138.4 25l9.2.4-.6-11.9c-.6-14.2.8-25.6 4.9-38.3 11.2-35.2 39.4-62.2 75.6-72.2 9-2.6 11.2-2.8 27.8-2.8 16.5 0 18.8.2 27.8 2.7 20.1 5.6 36.1 15.2 50.4 30.2 14 14.5 22.2 29.3 27.4 49.2 2.1 7.9 2.4 10.9 2.3 27.9-.1 12.7-.6 21.4-1.6 26.3l-1.5 7.3 300.6-.7 300.9-.9c.1-.1-.8-3.7-2-8.1-1.9-6.7-2.2-10.5-2.2-25.9-.1-16.6.1-18.7 2.7-27.9 11.7-42.1 46.7-73.6 88.5-79.7 11.9-1.7 32.5-.7 43.2 2.1 23.9 6.3 45.3 20.5 60.1 39.9 7 9.2 15.4 26.7 18.5 38.6 2.4 8.8 2.7 11.9 2.7 26 .1 11.6-.4 18.1-1.6 23.4-1 4.1-1.6 7.5-1.5 7.6.2.1 6.2-.2 13.3-.6 26.6-1.6 45.8-4.5 52.5-7.9 4.8-2.4 9.7-8.1 12.7-14.6l2.4-5.2-1.6-15.7c-1.5-15.2-1.5-16.3.4-28.4 6.3-38.8 5-68-3.5-80.2-13.4-19.3-52.6-33.6-142.9-51.9-73.7-14.9-132.2-20.9-203.3-21-22.8 0-22.6 0-34.7-8.5-18.7-13.1-104.5-60.7-147.1-81.5-38.3-18.7-78.8-28.1-143.9-33.2-20.8-1.7-110.6-1.6-140 0l-43 2.7c-30.2 2.2-28.6 2.2-34.1-1-14-8.1-18.7-9.4-26.9-7.1zM545 139.7l7.1 44.6 7.5 47.4c.9 5.2 1.5 9.6 1.3 9.7-1.1.9-169.9-2.9-195.1-4.4-20.6-1.3-41.7-3.6-48.5-5.4-9.8-2.6-19.8-11.9-24.9-23.1-3.5-7.5-3.6-17.2-.5-25.5 1.7-4.5 3-6.1 6.8-8.6 8.3-5.4 13.5-8 25.3-12.7 34.1-13.6 85.8-23 146-26.7 26.9-1.6 27-1.6 51.1-1.8l22.7-.2 1.2 6.7zm63-4.7c26.4 1.8 77.7 11 102.9 18.6 18.6 5.6 44.5 18.8 75.6 38.7 21.1 13.4 27.4 18.1 25 18.5-7.5 1.2-13.3 5-16.2 10.6-1.9 3.5-2.1 13.6-.4 17.9l1.1 2.7-90.7-.2-90.6-.3-5.9-16c-11-30.2-29.8-87.8-29.8-91.6 0-.6 9.5-.2 29 1.1zM263.3 327.5c-22.3 4-41 14.1-56.8 30.6-13.2 13.8-21.3 28.3-26.2 46.7-2.2 8.3-2.6 11.9-2.6 24.7-.1 16.9 1 23.6 6.5 38.2 8.7 23 27.1 43.6 49.3 55.1 8.5 4.4 17.8 7.8 27.1 9.8 10.7 2.3 31.2 2.3 41.9-.1 39.2-8.4 69.9-37.5 80.2-76.1 2.3-8.6 2.6-12 2.7-25.4.1-15.8-.5-19.9-4.6-33-9.8-31-35.5-56.7-66.8-66.9-15-5-35.4-6.4-50.7-3.6zm35 30.1c24.9 5.6 45.7 24.7 54.3 49.9 2.5 7.2 2.8 9.5 2.8 22 .1 15.3-1.5 22.8-7.4 34.5-9.4 18.6-28.3 33.7-48.5 38.6-9.6 2.4-26.8 2.4-36 0-32-8.4-54.4-35.5-56.2-68.1-2-35.9 20.9-67.3 55.8-76.5 9.4-2.4 25.3-2.6 35.2-.4zM260 370.3c-3.6 1.3-8.5 3.6-10.9 5.1l-4.4 2.8 11.6 11.5c8.1 8.2 12 11.4 13.1 11 1.4-.6 1.6-2.9 1.6-16.7 0-18.6.6-17.8-11-13.7zm32 13.6c0 13.9.2 16.2 1.6 16.8 1.1.4 5-2.8 13-10.8l11.5-11.4-2.8-2.2c-3.4-2.8-13.8-7-19.3-7.9l-4-.7v16.2zm-63.8 11.3c-2.8 3.6-9.2 19.1-9.2 22.5 0 1 3.4 1.3 16.5 1.3 15.1 0 16.5-.1 16.5-1.8 0-1.5-20.6-23.2-22.1-23.2-.4 0-1.1.6-1.7 1.2zm94 9.7c-6.2 5.9-11.2 11.5-11.2 12.4 0 1.5 1.7 1.7 16.5 1.7 13.1 0 16.5-.3 16.5-1.3 0-4-6.9-20.5-9.5-22.7-.7-.6-4.8 2.7-12.3 9.9zm-44.1 1.9c-1.2 2.2 1.1 6.2 3.4 6.2.8 0 2.1-1 2.9-2.2 2-2.8.4-5.8-2.9-5.8-1.3 0-2.9.8-3.4 1.8zm-3.2 17.1c-3.2 3.3-3.7 6.7-1.4 11 2.9 5.7 10.4 6.4 15.1 1.4 5.3-5.7.9-15.3-7.1-15.3-2.7 0-4.4.8-6.6 2.9zm-17.9 3.6c-2.6 3.2 1.3 8.1 4.8 5.9 2.4-1.6 2.7-4.5.6-6.1-2.3-1.7-3.9-1.6-5.4.2zm43.6.1c-2 1.9-2 3.8-.2 5.4 2.3 1.9 6.1.8 6.4-1.8.7-4.4-3.2-6.7-6.2-3.6zM219 442.5c0 2.9 4.1 14 7.2 19.4l3.1 5.3 11.7-11.7c7.1-7.1 11.6-12.3 11.3-13.1-.4-1.1-4-1.4-16.9-1.4-14.1 0-16.4.2-16.4 1.5zm92 .3c0 .9 5.1 6.8 11.4 13.1l11.4 11.4 3.1-5.4c3-5.1 7.1-16.5 7.1-19.5 0-1.1-3.1-1.4-16.5-1.4-15.1 0-16.5.1-16.5 1.8zm-33 7.1c-.7 1.5-.5 2.4.8 4.1 3.2 4 8.5.4 6.2-4.1-1.4-2.5-5.6-2.5-7 0zm-21.8 20.4c-6.1 6.2-11.2 11.5-11.2 11.9 0 1.8 20.8 10.8 24.9 10.8.7 0 1.1-5.4 1.1-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6s-5.3 5.1-11.5 11.3zm37.1-10.6c-1.5.6-1.9 33.3-.4 33.3 4.6 0 25.1-8.8 25.1-10.8 0-.9-22.3-23.2-23-23.1-.3 0-1.1.3-1.7.6zM1070 328.1c-39 8.4-69.6 37.6-79.7 75.9-3.1 11.7-4.1 29.2-2.4 41.1 3.3 22.7 15 45.3 31.8 60.9 26.7 25 64.3 34.4 99.3 24.9 11.7-3.2 28.3-11.8 38-19.6 48.7-39.6 51.8-112.8 6.7-156-9.7-9.3-16.6-14-29-19.8-13.7-6.4-23.5-8.6-40.7-9.1-12-.3-16.2 0-24 1.7zm44.5 31.3c23.8 8.1 40.9 25.8 48.6 50.6 3 9.6 3.3 28.9.5 38.8-11 40-51.3 63.7-91.1 53.6-14.9-3.8-31.3-14.7-40.2-26.7-17.6-23.8-20.3-53.3-7.1-79.7 3.4-6.9 6-10.3 13.8-18 7.7-7.8 11.1-10.4 18.1-13.9 12.9-6.5 20.7-8.1 36.4-7.7 10.9.3 14.3.7 21 3zm-44.2 10.6c-5.4 1.9-15.3 7.1-15.3 8 0 .3 5.1 5.7 11.4 11.9 8 8 11.9 11.2 13 10.8 1.4-.5 1.6-2.9 1.6-16.7v-16l-2.7.1c-1.6 0-5.2.9-8 1.9zm31.7 13.9c0 13.9.2 16.2 1.6 16.8 2.2.8 24.7-21.6 23.4-23.2-1.7-2-16.3-8.4-20.7-9.1l-4.3-.7v16.2zm-65.4 13.7c-2.9 4.4-7.6 16.5-7.6 19.4 0 1.9.7 2 16.5 2 12.6 0 16.5-.3 16.5-1.3 0-.7-5.1-6.3-11.4-12.6l-11.4-11.4-2.6 3.9zm94.7 7.6c-6.1 6.2-10.9 11.9-10.6 12.5.6 1.5 33.3 1.9 33.3.4 0-4.5-8.8-24.1-10.8-24.1-.4 0-5.7 5.1-11.9 11.2zm-43.1 1c-1.7 1.7-1.5 3.2.7 5.2 1.6 1.4 2.3 1.5 4.1.6 3.1-1.7 2.4-6.4-1-6.8-1.4-.2-3.1.3-3.8 1zm-3.6 17.9c-6.8 8.1 1.7 19.4 11 14.4 8.9-4.8 5.6-17.5-4.6-17.5-3 0-4.4.6-6.4 3.1zm-17.6 3.3c-1.9 2.3-.8 6.1 1.8 6.4 4.4.7 6.7-3.2 3.6-6.2-1.9-2-3.8-2-5.4-.2zm43.6-.1c-2.1 1.6-1.8 4.5.7 6.1 3.7 2.3 7.7-3.5 4.1-6.1-1-.7-2.1-1.3-2.4-1.3s-1.4.6-2.4 1.3zM1029 443c0 2.9 4.3 14.1 7.4 19.5l2.8 4.8 11.6-11.6c8.1-8.1 11.3-12 10.9-13.1-.6-1.4-2.9-1.6-16.7-1.6-15.2 0-16 .1-16 2zm91.7-.8c-.3.7 4.7 6.6 11.1 13l11.6 11.8 2.7-4.3c2.7-4.4 7.9-17.7 7.9-20.3 0-1.2-2.8-1.4-16.4-1.4-12.2 0-16.6.3-16.9 1.2zm-32.6 7.7c-1.4 2.5-.5 4.8 2 5.6 2.7.9 5.1-1.3 4.7-4.4-.4-3.4-5.1-4.3-6.7-1.2zm-21.9 20.4c-6.1 6.2-11.2 11.5-11.2 11.9 0 2 20.1 10.8 24.7 10.8 1 0 1.3-3.4 1.3-16.4 0-14-.2-16.5-1.6-17-.9-.3-1.6-.6-1.7-.6s-5.3 5.1-11.5 11.3zm37.1-10.6c-1 .3-1.3 4.7-1.3 16.9 0 9 .4 16.4.8 16.4 3.6 0 18.6-6.1 23.9-9.8 1.6-1-21.6-24.2-23.4-23.5z"/>\n    </svg>\n  ')},this.finishIcon=function(t){return'\n    <?xml version="1.0" encoding="utf-8"?>\n    <svg id="finish-icon-'.concat(t,'" class="finish-icon" width="50px" height="50px" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" aria-hidden="true" role="img" class="iconify iconify--gis" preserveAspectRatio="xMidYMid meet">\n      <path d="M50 0a3.5 3.5 0 0 0-3.5 3.5V93h-9.57a3.5 3.5 0 0 0-3.5 3.5a3.5 3.5 0 0 0 3.5 3.5h25a3.5 3.5 0 0 0 3.5-3.5a3.5 3.5 0 0 0-3.5-3.5H53.5V47h43a3.5 3.5 0 0 0 3.5-3.5v-40A3.5 3.5 0 0 0 96.5 0h-46a3.5 3.5 0 0 0-.254.01A3.5 3.5 0 0 0 50 0zm13.8 7h9.8v7.43h9.8V7H93v7.43h-9.6v9.799H93v9.8h-9.6V40h-9.8v-5.97h-9.8V40H54v-5.97h9.8v-9.801H54v-9.8h9.8V7zm0 7.43v9.799h9.8v-9.8h-9.8zm9.8 9.799v9.8h9.8v-9.8h-9.8z" fill="#000000">\n      </path>\n    </svg>\n  ')},this.startEngine=function(e){return a(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(o.Engine,"?id=").concat(e,"&status=started"),{method:"PATCH"})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))},this.stopEngine=function(e){return a(t,void 0,void 0,(function(){return c(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(o.Engine,"?id=").concat(e,"&status=stopped"),{method:"PATCH"})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))},this.drive=function(e){return a(t,void 0,void 0,(function(){var t,n,r;return c(this,(function(i){switch(i.label){case 0:return[4,fetch("".concat(o.Engine,"?id=").concat(e,"&status=drive"),{method:"PATCH"}).catch()];case 1:return 200===(t=i.sent()).status?[3,2]:(n={success:!1},[3,4]);case 2:return r=[{}],[4,t.json()];case 3:n=s.apply(void 0,r.concat([i.sent()])),i.label=4;case 4:return[2,n]}}))}))}}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t}();var u=function(){return u=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},u.apply(this,arguments)},d=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},f=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};const h=function(){function t(){var t=this;this.car=l.getInstance(),this.add=function(e){return d(t,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,fetch(o.Winners,{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))},this.delete=function(e){return d(t,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(o.Winners,"/").concat(e),{method:"DELETE"})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))},this.getSortOrder=function(t,e){return t&&e?"&_sort=".concat(t,"&_order=").concat(e):""},this.getWinner=function(e){return d(t,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,fetch("".concat(o.Winners,"/").concat(e))];case 1:if(!(t=n.sent()).ok)throw new Error(t.statusText);return[2,t.json()]}}))}))},this.getWinnerStatus=function(e){return d(t,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(o.Winners,"/").concat(e))];case 1:return[2,t.sent().status]}}))}))},this.getWinners=function(e,n,r,i){return void 0===i&&(i=10),d(t,void 0,void 0,(function(){var t,s,a,c,l=this;return f(this,(function(h){switch(h.label){case 0:return[4,fetch("".concat(o.Winners,"?_page=").concat(r,"&_limit=").concat(i).concat(this.getSortOrder(e,n)))];case 1:return[4,(t=h.sent()).json()];case 2:return s=h.sent(),[4,Promise.all(s.map((function(t){return d(l,void 0,void 0,(function(){var e,n;return f(this,(function(r){switch(r.label){case 0:return e=[u({},t)],n={},[4,this.car.getCar(t.id)];case 1:return[2,u.apply(void 0,e.concat([(n.car=r.sent(),n)]))]}}))}))})))];case 3:return a=h.sent(),c=Number(t.headers.get("X-Total-Count")),[2,{items:a,count:c}]}}))}))},this.update=function(e,n){return d(t,void 0,void 0,(function(){return f(this,(function(t){switch(t.label){case 0:return[4,fetch("".concat(o.Winners,"/").concat(e),{method:"PUT",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent()]}}))}))},this.save=function(e){return d(t,void 0,void 0,(function(){var t;return f(this,(function(n){switch(n.label){case 0:return[4,this.getWinnerStatus(e.id)];case 1:return 404!==n.sent()?[3,3]:[4,this.add({id:e.id,wins:1,time:e.time})];case 2:return n.sent(),[3,6];case 3:return[4,this.getWinner(e.id)];case 4:return t=n.sent(),[4,this.update(e.id,{id:e.id,wins:Number(t.wins)+1,time:e.time<t.time?e.time:t.time})];case 5:n.sent(),n.label=6;case 6:return[2]}}))}))}}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t}();var g=new r.EventEmitter,p=new r.EventEmitter,m={cars:[],carsCount:0,currentPage:1,maxPages:1,itemsOfPage:7,idForUpdate:-1,animation:{},viewState:"garage",sortBy:"id",sortOrder:"asc",winners:[],winnersCount:0,winnerPage:1,winnerMaxPages:1,winnerItemsOfPage:10},v=function(){function t(){var t=this;this.state=m,this.car=l.getInstance(),this.winner=h.getInstance(),this.loadAllCars=function(e){void 0===e&&(e=1),t.car.getCars(e).then((function(e){var n=e.items,r=e.count;t.state.cars=n,t.state.carsCount=r,0!==t.state.cars.length&&(t.state.maxPages=Math.ceil(t.CarsCount/7)),g.emit("cars-loaded")})).catch((function(t){console.log(t)}))},this.loadWinners=function(e,n,r,i){void 0===e&&(e="id"),void 0===n&&(n="asc"),void 0===r&&(r=1),void 0===i&&(i=10),t.winner.getWinners(e,n,r,i).then((function(e){var n=e.items,r=e.count;t.state.winners=n,t.state.winnersCount=r,0!==t.state.winners.length&&(t.state.winnerMaxPages=Math.ceil(t.WinnersCount/10)),p.emit("winners-loaded")})).catch((function(t){console.log(t)}))},this.loadAllCars(),this.loadWinners()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},Object.defineProperty(t.prototype,"Sort",{get:function(){return this.state.sortBy},set:function(t){this.state.sortBy=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Order",{get:function(){return this.state.sortOrder},set:function(t){this.state.sortOrder=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"View",{get:function(){return this.state.viewState},set:function(t){this.state.viewState=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Cars",{get:function(){return this.state.cars},set:function(t){this.state.cars=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CarsCount",{get:function(){return this.state.carsCount},set:function(t){this.state.carsCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Page",{get:function(){return this.state.currentPage},set:function(t){this.state.currentPage=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"MaxPages",{get:function(){return this.state.maxPages},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Winners",{get:function(){return this.state.winners},set:function(t){this.state.winners=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"WinnerPage",{get:function(){return this.state.winnerPage},set:function(t){this.state.winnerPage=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"WinnersCount",{get:function(){return this.state.winnersCount},set:function(t){this.state.winnersCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"WinnerMaxPages",{get:function(){return this.state.winnerMaxPages},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ItemsOfPage",{get:function(){return this.state.itemsOfPage},set:function(t){this.state.itemsOfPage=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"WinnerItemsOfPage",{get:function(){return this.state.winnerItemsOfPage},set:function(t){this.state.winnerItemsOfPage=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"UpdateID",{get:function(){return this.state.idForUpdate},set:function(t){this.state.idForUpdate=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Animation",{get:function(){return this.state.animation},set:function(t){this.state.animation=t},enumerable:!1,configurable:!0}),t}();const b=function(){var n=this;this.store=v.getInstance(),this.addEvents=function(){var t=document.getElementById("garage-link");if(!t)throw new Error("Garage link button not found!");t.addEventListener("click",(function(){document.getElementById("garage-view").style.display="block",document.getElementById("score-view").style.display="none",n.store.View="garage-view"}));var e=document.getElementById("score-link");if(!e)throw new Error("Score link button not found!");e.addEventListener("click",(function(){document.getElementById("garage-view").style.display="none",document.getElementById("score-view").style.display="block",n.store.View="score-view"}))},this.render=function(){return'\n    <header class="px-3 py-2 text-bg-dark">\n      <div class="container">\n        <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">\n          <a href="/" class="d-flex align-items-center my-2 my-lg-0 me-lg-auto text-white text-decoration-none">\n            ASYNC RACE\n          </a>\n          <ul class="nav col-12 col-lg-auto my-2 justify-content-center my-md-0 text-small">\n            <li>\n              <a id="garage-link" href="/" onclick="return false;" class="nav-link text-secondary">\n                <img class="bi d-block mx-auto mb-1" width="24" height="24" src="'.concat(t,'" alt="Garage Icon">\n                Garage\n              </a>\n            </li>\n            <li>\n              <a id="score-link" href="/" onclick="return false;" class="nav-link text-white">\n                <img class="bi d-block mx-auto mb-1" width="24" height="24" src="').concat(e,'" alt="Winners Icon">\n                Winners\n              </a>\n            </li>\n          </ul>\n        </div>\n      </div>\n    </header>\n  ')}},y=function(){var t=this;this.store=v.getInstance(),this.car=l.getInstance(),this.render=function(){return'\n  <div class="col-lg-5 mb-3 mb-lg-0">\n    <div class="card">\n      <div class="card-body">\n        <h5 class="card-title">Create car</h5>\n          <div class="d-flex align-items-center mb-3 gap-3 mt-3">\n            <div class="input-group input-group-md">\n              <span class="input-group-text" id="inputGroup-sizing-sm">Name</span>\n              <input id="create-car-input" type="text" class="form-control" aria-label="Name of create car" aria-describedby="inputGroup-sizing-sm">\n            </div>\n            <input type="color" class="color-picker" id="create-car-picker" value="#0000ff">\n          </div>\n        <button id="create-car-button" class="btn btn-primary" disabled>Create</button>\n        <div id="liveAlertPlaceholder"></div>\n      </div>\n    </div>\n  </div>\n  '},this.addEvents=function(){var e=document.getElementById("create-car-input");if(!e)throw new Error("Create input box not found!");var n=document.getElementById("create-car-button");if(!e)throw new Error("Create button not found!");var r=document.getElementById("create-car-picker");if(!r)throw new Error("Create picker not found!");e.addEventListener("input",(function(){e.value.length>5?n.disabled=!1:n.disabled=!0})),n.addEventListener("click",(function(){if(!n.disabled){var i={name:e.value,color:r.value};t.car.create(i).then((function(){e.value="",n.disabled=!0,r.value="#0000ff",t.store.loadAllCars(t.store.Page)})).catch((function(t){return console.error(t)}))}}))}},w=function(){var t=this;this.store=v.getInstance(),this.car=l.getInstance(),this.addEvents=function(){var e=document.getElementById("update-car");if(!e)throw new Error("Update input not found!");var n=document.getElementById("update-car-btn");if(!n)throw new Error("Update button not found!");var r=document.getElementById("update-car-picker");if(!r)throw new Error("Update color picker not found!");e.addEventListener("input",(function(){-1!==t.store.UpdateID&&e.value.length>5?n.disabled=!1:n.disabled=!0})),n.addEventListener("click",(function(){if(!n.disabled){var i={name:e.value,color:r.value};t.car.update(t.store.UpdateID,i).then((function(){e.value="",n.disabled=!0,r.value="#0000ff",t.store.UpdateID=-1,t.store.loadAllCars(t.store.Page),t.store.loadWinners()})).catch((function(t){return console.log(t)}))}}))},this.render=function(){return'\n  <div class="col-lg-5 mb-3 mb-lg-0">\n    <div class="card">\n      <div class="card-body">\n        <h5 class="card-title">Update car</h5>\n          <div class="d-flex align-items-center mb-3 gap-3 mt-3">\n            <div class="input-group input-group-md">\n              <span class="input-group-text" id="inputGroup-sizing-sm">Name</span>\n              <input id="update-car" type="text" class="form-control" aria-label="Name of create car" aria-describedby="inputGroup-sizing-sm">\n            </div>\n            <input type="color" class="color-picker" id="update-car-picker" value="#0000ff" disabled>\n          </div>\n        <button id="update-car-btn" class="btn btn-primary" disabled>Update</button>\n      </div>\n    </div>\n  </div>\n  '}};var E=function(t){var e=t.getBoundingClientRect(),n=e.top;return{x:e.left+e.width/2,y:n+e.height/2}},x=function(){return x=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},x.apply(this,arguments)},C=function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{c(r.next(t))}catch(t){o(t)}}function a(t){try{c(r.throw(t))}catch(t){o(t)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}c((r=r.apply(t,e||[])).next())}))},_=function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},P=function(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))};const O=function(){function t(){var t=this;this.store=v.getInstance(),this.car=l.getInstance(),this.animation=function(t,e,n){var r,i={id:-1},o=function(s){var a=t;r||(r=s);var c=s-r,l=Math.round(c*(e/n));a.style.transform="translateX(".concat(Math.min(l,e),"px)"),l<e&&(i.id=window.requestAnimationFrame(o))};return i.id=window.requestAnimationFrame(o),i},this.startDriving=function(e){return C(t,void 0,void 0,(function(){var t,n,r,i,o,s,a,c,l,u,d,f;return _(this,(function(h){switch(h.label){case 0:if(!(t=document.getElementById("btn-engine-start-".concat(e))))throw new Error("Button engine start not found!");return t.disabled=!0,t.classList.remove("btn-outline-primary"),t.classList.add("btn-outline-danger"),[4,this.car.startEngine(e)];case 1:if(n=h.sent(),r=n.velocity,i=n.distance,o=Math.round(i/r),t.classList.remove("btn-outline-danger"),t.classList.add("btn-outline-primary"),!(s=document.getElementById("btn-engine-stop-".concat(e))))throw new Error("Button stop engine not found!");if(s.disabled=!1,!(a=document.getElementById("car-icon-".concat(e))))throw new Error("Car icon not found!");if(!(c=document.getElementById("finish-icon-".concat(e))))throw new Error("Finish icon not found!");return l=Math.floor((g=c,p=E(a),m=E(g),Math.hypot(p.x-m.x,p.y-m.y)))+80,this.store.Animation[e]=this.animation(a,l,o),[4,this.car.drive(e)];case 2:if(u=h.sent().success,d=void 0!==u&&u,u||window.cancelAnimationFrame(this.store.Animation[e].id),!(f=this.store.Cars.find((function(t){return t.id===e}))))throw new Error("No car found with id ".concat(e));return[2,{success:d,id:e,name:f.name,time:o}]}var g,p,m}))}))},this.stopDriving=function(e){return C(t,void 0,void 0,(function(){var t,n,r;return _(this,(function(i){switch(i.label){case 0:if(!(t=document.getElementById("btn-engine-stop-".concat(e))))throw new Error("Button stop engine not found!");return t.disabled=!0,t.classList.remove("btn-outline-primary"),t.classList.add("btn-outline-danger"),[4,this.car.stopEngine(e)];case 1:if(i.sent(),t.classList.remove("btn-outline-danger"),t.classList.add("btn-outline-primary"),!(n=document.getElementById("btn-engine-start-".concat(e))))throw new Error("Button engine start not found!");if(n.disabled=!1,!(r=document.getElementById("car-icon-".concat(e))))throw new Error("Car icon not found!");return r.style.transform="translateX(0)",this.store.Animation[e]&&window.cancelAnimationFrame(this.store.Animation[e].id),[2]}}))}))},this.raceAll=function(e,n){return C(t,void 0,void 0,(function(){var t,r,i,o,s,a,c,l;return _(this,(function(u){switch(u.label){case 0:return[4,Promise.race(e)];case 1:if(t=u.sent(),r=t.success,i=t.id,o=t.time,!r){if(-1===(s=n.findIndex((function(t){return t===i}))))throw new Error("No id ".concat(i," found!"));return a=P(P([],e.slice(0,s),!0),e.slice(s+1,e.length),!0),c=P(P([],n.slice(0,s),!0),n.slice(s+1,n.length),!0),[2,this.raceAll(a,c)]}if(!(l=this.store.Cars.find((function(t){return t.id===i}))))throw new Error("No car find with id ".concat(i));return[2,x(x({success:!0},l),{time:+(o/1e3).toFixed(2)})]}}))}))},this.race=function(e){return C(t,void 0,void 0,(function(){var t;return _(this,(function(n){switch(n.label){case 0:return t=this.store.Cars.map((function(t){return e(t.id)})),[4,this.raceAll(t,this.store.Cars.map((function(t){return t.id})))];case 1:return[2,n.sent()]}}))}))}}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t}();const I=function(){var t=this;this.store=v.getInstance(),this.car=l.getInstance(),this.carController=O.getInstance(),this.winner=h.getInstance(),this.render=function(){return'\n  <div class="col-lg-2">\n    <div class="card h-100">\n      <div class="card-body d-flex align-items-center">\n        <div class="d-grid gap-2 col-6 col-lg-12 mx-auto">\n          <button type="button" id="race-btn" class="btn btn-sm btn-outline-primary">Start Race</button>\n          <button type="button" id="reset-race-btn" class="btn btn-sm btn-outline-primary" disabled>Reset Race</button>\n          <button type="button" id="generate-car-btn" class="btn btn-sm btn-outline-primary">Generate cars</button>\n        </div>\n      </div>\n    </div>\n  </div>\n  '},this.addEvents=function(){var e=document.getElementById("generate-car-btn");if(!e)throw new Error("Generate button not found!");e.addEventListener("click",(function(){if(!e.disabled){e.disabled=!0;var n=function(t){void 0===t&&(t=100);for(var e=["Aston Martin","Porsche","Lada","Volkswagen","Ferrari","Mercedes","Tesla","Kia","Hyundai","Nissan","Renault","BMW","Jeep","Audi","Peugeot","SAAB","Toyota","Opel","Mazda"],n=["Cayenne","Optima","Vesta","Polo","Model X","Solaris","Almera","Logan","X5","Wrangler","Astra","Avensis","Boxer","CX-5","Corolla","9-3","A5"],r=[],i=0;i<t;i+=1){var o="".concat(e[Math.floor(Math.random()*e.length)]," ").concat(n[Math.floor(Math.random()*n.length)]),s=Math.floor(16777215*Math.random()).toString(16);r.push({name:o,color:"#".concat(s)})}return r}();Promise.all(n.map((function(e){return t.car.create(e)}))).then((function(){t.store.loadAllCars(t.store.Page)})).catch((function(t){return console.log(t)})),e.disabled=!1}}));var n=document.getElementById("race-btn");if(!n)throw new Error("Race button not found!");n.addEventListener("click",(function(){n.disabled=!0,t.carController.race(t.carController.startDriving).then((function(e){var n,r,i,o,s=e.id,a=e.name,c=e.time;return n=t,r=void 0,o=function(){var t,e,n,r=this;return function(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){s.label=a[1];break}if(6===a[0]&&s.label<i[1]){s.label=i[1],i=a;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(a);break}i[2]&&s.ops.pop(),s.trys.pop();continue}a=e.call(t,s)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(i){if(!(t=document.getElementById("reset-race-btn")))throw new Error("Reset race button not found!");if(t.disabled=!1,this.winner.save({id:s,time:c}).then((function(){r.store.loadWinners()})).catch((function(t){return console.log(t)})),!(e=document.getElementById("won-alert")))throw new Error("Won alert not found!");return n="\n            <strong>".concat(a," won</strong>. Time: ").concat(c,'s.\n            <button id="won-alert-close" type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>\n          '),e.innerHTML=n,e.style.visibility="visible",setTimeout((function(){e.style.visibility="hidden"}),3e3),[2]}))},new((i=void 0)||(i=Promise))((function(t,e){function s(t){try{c(o.next(t))}catch(t){e(t)}}function a(t){try{c(o.throw(t))}catch(t){e(t)}}function c(e){var n;e.done?t(e.value):(n=e.value,n instanceof i?n:new i((function(t){t(n)}))).then(s,a)}c((o=o.apply(n,r||[])).next())}))})).catch((function(t){return console.log(t)}))}));var r=document.getElementById("reset-race-btn");if(!r)throw new Error("Reset race button not found!");r.addEventListener("click",(function(){r.disabled=!0,t.store.Cars.map((function(e){return t.carController.stopDriving(e.id)})),n.disabled=!1}))}},L=function(t,e,n){var r=this;this.store=v.getInstance(),this.carController=O.getInstance(),this.car=l.getInstance(),this.winner=h.getInstance(),this.addEvents=function(){var t=document.getElementById("btn-remove-".concat(r.id));if(!t)throw new Error("Button remove not found!");t.addEventListener("click",(function(){r.car.delete(r.id).then((function(){r.store.ItemsOfPage<=1&&1!==r.store.Page&&(r.store.Page-=1),r.store.loadAllCars(r.store.Page),r.winner.delete(r.id).then((function(){r.store.WinnerItemsOfPage<=1&&1!==r.store.WinnerPage&&(r.store.WinnerPage-=1),r.store.loadWinners(r.store.Sort,r.store.Order,r.store.WinnerPage)})).catch((function(t){return console.log(t)}))})).catch((function(t){return console.log(t)}))}));var e=document.getElementById("btn-update-".concat(r.id));if(!e)throw new Error("Button update not found!");e.addEventListener("click",(function(){r.store.UpdateID=r.id;var t=document.getElementById("update-car");if(!t)throw new Error("Input update not found!");if(t.value=r.name,t.value.length){var e=document.getElementById("update-car-btn");if(!e)throw new Error("Update btn not found!");e.disabled=!1;var n=document.getElementById("update-car-picker");if(!n)throw new Error("Update color picker not found!");n.disabled=!1,n.value=r.color}}));var n=document.getElementById("btn-engine-start-".concat(r.id));if(!n)throw new Error("Button start engine not found!");n.addEventListener("click",(function(){r.carController.startDriving(r.id).then((function(){})).catch((function(t){return console.log(t)}))}));var i=document.getElementById("btn-engine-stop-".concat(r.id));if(!i)throw new Error("Button stop engine not found!");i.addEventListener("click",(function(){r.carController.stopDriving(r.id).then((function(){})).catch((function(t){return console.log(t)}))}))},this.render=function(){return'\n    <div class="d-flex flex-column flex-md-row gap-2 justify-content-between align-items-center">\n      <div class="btn-group btn-group-sm" role="group" aria-label="Controls Options">\n        <button id="btn-update-'.concat(r.id,'" type="button" class="btn btn-outline-primary">Select car</button>\n        <button id="btn-remove-').concat(r.id,'" type="button" class="btn btn-outline-primary">Remove car</button>\n        <button id="btn-engine-start-').concat(r.id,'" type="button" class="btn btn-outline-primary">Start Engine</button>\n        <button id="btn-engine-stop-').concat(r.id,'" type="button" class="btn btn-outline-primary" disabled>Stop Engine</button>\n      </div>\n      <p class="fs-6 mb-0">').concat(r.name,'</p>\n    </div>\n    <div style="position: relative; border-bottom: 4px dashed #000000;">\n      ').concat(r.car.getImage(r.id,r.color),"\n      ").concat(r.car.finishIcon(r.id),"\n    </div>\n  ")},this.id=t,this.name=e,this.color=n},A=function(){var t=this;this.store=v.getInstance(),this.carsComponents=[],this.addEvents=function(){t.carsComponents.forEach((function(t){t.addEvents()}));var e=document.getElementById("next-btn");if(!e)throw new Error("Next button not found!");e.addEventListener("click",(function(){if(1!==t.store.MaxPages){t.store.Page>=t.store.MaxPages?t.store.Page=1:t.store.Page+=1;var e=document.getElementById("race-btn");if(!e)throw new Error("Race button not found!");e.disabled&&(e.disabled=!1);var n=document.getElementById("reset-race-btn");if(!n)throw new Error("Reset race button not found!");n.disabled||(n.disabled=!0),t.store.loadAllCars(t.store.Page)}}));var n=document.getElementById("prev-btn");if(!n)throw new Error("Prev button not found!");n.addEventListener("click",(function(){if(1!==t.store.MaxPages){t.store.Page<=1?t.store.Page=t.store.MaxPages:t.store.Page-=1;var e=document.getElementById("race-btn");if(!e)throw new Error("Race button not found!");e.disabled&&(e.disabled=!1);var n=document.getElementById("reset-race-btn");if(!n)throw new Error("Reset race button not found!");n.disabled||(n.disabled=!0),t.store.loadAllCars(t.store.Page)}}));var r=document.getElementById("won-alert");if(!r)throw new Error("Won alert box not found!");r.addEventListener("click",(function(t){t.preventDefault(),t.target&&t.target.matches("button")&&(r.style.visibility="hidden")}))},this.render=function(){return'\n    <h2 class="text-center mb-1">Garage</h2>\n    <p class="fs-5 text-center mb-3">Cars: '.concat(t.store.CarsCount," (").concat(t.store.ItemsOfPage,' on page)</p>\n    <div class="card">\n      <div class="card-body d-flex gap-3 flex-column text-bg-light">\n        ').concat(t.carsComponents.map((function(t){return t.render()})).join(""),'\n      </div>\n    </div>\n    <nav class="mt-3" aria-label="Page navigation example">\n      <ul class="pagination justify-content-center">\n        <li id="prev-btn" class="page-item"><button class="page-link">Previous</button></li>\n        <li class="page-item"><p class="page-link m-0">').concat(t.store.Page," / ").concat(t.store.MaxPages,'</p></li>\n        <li id="next-btn" class="page-item"><button class="page-link">Next</button></li>\n      </ul>\n    </nav>\n    <div id="won-alert" class="alert alert-warning alert-dismissible fade show" role="alert">\n    </div>\n  ')},this.store.Cars.length&&(this.carsComponents=this.store.Cars.map((function(t){return new L(t.id,t.name,t.color)})),this.store.ItemsOfPage=this.carsComponents.length)},j=function(){var t=this;this.create=new y,this.update=new w,this.garageOptions=new I,this.raceView=new A,this.updateRender=function(){var t=document.getElementById("race-view");if(t){var e=new A;t.innerHTML=e.render(),e.addEvents()}},this.render=function(){return'\n  <section class="garage-options container">\n    <div class="accordion" id="accordionExample">\n      <div class="accordion-item">\n        <h2 class="accordion-header" id="headingOne">\n          <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">\n            Garage Options\n          </button>\n        </h2>\n        <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne" data-bs-parent="#accordionExample">\n          <div class="accordion-body">\n            <div class="row">\n              '.concat(t.create.render(),"\n              ").concat(t.update.render(),"\n              ").concat(t.garageOptions.render(),'\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n  <section id="race-view" class="py-3 container">\n    ').concat(t.raceView.render(),"\n  </section>\n  ")},this.addEvents=function(){t.create.addEvents(),t.garageOptions.addEvents(),t.update.addEvents()},g.on("cars-loaded",this.updateRender)},k=function(t,e,n,r,i,o){var s=this;this.car=l.getInstance(),this.render=function(){return'\n    <tr>\n      <th scope="row">'.concat(s.index,'</th>\n      <td class="winner-icon">').concat(s.car.getImage(s.id,s.carColor),"</td>\n      <td>").concat(s.name,"</td>\n      <td>").concat(s.wins,"</td>\n      <td>").concat(s.time,"</td>\n    </tr>\n  ")},this.index=t,this.id=e,this.carColor=n,this.name=r,this.wins=i,this.time=o},S=function(){var t=this;this.store=v.getInstance(),this.winnerComponents=[],this.addEvents=function(){var e=document.getElementById("next-winner-btn");if(!e)throw new Error("Next button winner not found!");e.addEventListener("click",(function(){1!==t.store.WinnerMaxPages&&(t.store.WinnerPage>=t.store.WinnerMaxPages?t.store.WinnerPage=1:t.store.WinnerPage+=1,t.store.loadWinners(t.store.Sort,t.store.Order,t.store.WinnerPage))}));var n=document.getElementById("prev-winner-btn");if(!n)throw new Error("Prev button winner not found!");n.addEventListener("click",(function(){1!==t.store.WinnerMaxPages&&(t.store.WinnerPage<=1?t.store.WinnerPage=t.store.WinnerMaxPages:t.store.WinnerPage-=1,t.store.loadWinners(t.store.Sort,t.store.Order,t.store.WinnerPage))})),document.getElementById("wins-sort").addEventListener("click",(function(){t.store.Sort="wins",t.store.Order="asc"===t.store.Order?"desc":"asc",t.store.loadWinners(t.store.Sort,t.store.Order,t.store.WinnerPage)})),document.getElementById("time-sort").addEventListener("click",(function(){t.store.Sort="time",t.store.Order="asc"===t.store.Order?"desc":"asc",t.store.loadWinners(t.store.Sort,t.store.Order,t.store.WinnerPage)}))},this.render=function(){return'\n    <section id="score-table" class="container">\n      <h2 class="text-center mb-1">Winners</h2>\n      <p class="fs-5 text-center mb-3">Winners: '.concat(t.store.WinnersCount," (").concat(t.store.WinnerItemsOfPage,' on page)</p>\n      <table class="table table-striped align-middle">\n        <thead class="table-dark">\n          <tr class="align-middle">\n            <th scope="col">#</th>\n            <th scope="col">Car</th>\n            <th scope="col">Name</th>\n            <th id="wins-sort" class="score-sort" scope="col"><span class="text-decoration-underline">Wins</span></th>\n            <th id="time-sort" class="score-sort" scope="col"><span class="text-decoration-underline">Best time (seconds)</span></th>\n          </tr>\n        </thead>\n        <tbody>\n          ').concat(t.winnerComponents.map((function(t){return t.render()})).join(""),'\n        </tbody>\n      </table>\n    </section>\n    <nav class="mt-3" aria-label="Page navigation example">\n    <ul class="pagination justify-content-center">\n      <li id="prev-winner-btn" class="page-item"><button class="page-link">Previous</button></li>\n      <li class="page-item"><p class="page-link m-0">').concat(t.store.WinnerPage," / ").concat(t.store.WinnerMaxPages,'</p></li>\n      <li id="next-winner-btn" class="page-item"><button class="page-link">Next</button></li>\n    </ul>\n  </nav>\n  ')},this.store.Winners.length&&(this.winnerComponents=this.store.Winners.map((function(t,e){return new k(e+1,t.id,t.car.color,t.car.name,t.wins,t.time)})),this.store.WinnerItemsOfPage=this.winnerComponents.length)},M=function(){var t=this;this.garage=new j,this.score=new S,this.updateRender=function(){var t=document.getElementById("score-view");if(t){var e=new S;t.innerHTML=e.render(),e.addEvents()}},this.render=function(){return'\n    <main id="content" class="flex-shrink-0 py-4">\n      <div id="garage-view">\n        '.concat(t.garage.render(),'\n      </div>\n      <div id="score-view" style="display: none;">\n        ').concat(t.score.render(),"\n      </div>\n    </main>\n  ")},this.addEvents=function(){t.garage.addEvents(),t.score.addEvents()},p.on("winners-loaded",this.updateRender)},T=n.p+"assets/8e07e4e2db4410785348.svg",B=function(){this.render=function(){return'\n    <footer class="footer mt-auto py-3">\n      <div class="container">\n        <div class="d-flex flex-wrap justify-content-between align-items-center py-3 border-top">\n          <div class="col-md-4 d-flex align-items-center">\n            <p class="mb-3 mb-md-0 text-muted">&copy 2023 <a href="https://rs.school" target="_blank" class="text-muted">RS School</a></p>\n          </div>\n\n          <ul class="nav col-md-4 justify-content-end list-unstyled d-flex">\n            <li class="ms-3"><a class="text-muted" href="https://github.com/wowblvck" target="_blank"><img class="bi" src="'.concat(T,'" width="24" height="24"></a></li>\n          </ul>\n        </div>\n      </div>\n    </footer>\n  ')}};var W=new function(){var t=this;this.header=new b,this.content=new M,this.footer=new B,this.render=function(){return"\n    ".concat(t.header.render(),"\n    ").concat(t.content.render(),"\n    ").concat(t.footer.render(),"\n  ")},this.addEvents=function(){t.content.addEvents(),t.header.addEvents()}},N=document.body;if(!N)throw new Error("Root container not load");N.classList.add("d-flex","flex-column","h-100"),N.innerHTML=W.render(),W.addEvents()})()})();